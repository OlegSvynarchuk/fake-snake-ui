(()=>{"use strict";var e,n={663:(e,n,t)=>{var r=t(294),o=t(935),a=t(711),i=t(669),l=t.n(i),c=t(974),u={0:1,1:5,2:10};function s(){return r.createElement("ul",{className:"foodtypes"},Object.entries(u).map((function(e){return r.createElement("li",{key:e[1],className:"foodtype"},r.createElement("div",{className:"food".concat(e[1]),style:{marginRight:"5px"}}),r.createElement("span",null,e[1],"   ",e[1]>1?"points":"point"))})))}function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){m(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function m(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,n)||y(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,n){if(e){if("string"==typeof e)return b(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?b(e,n):void 0}}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function g(e){for(var n=e.updateScore,t=[],o=0;o<20;o++){t.push([]);for(var a=0;a<20;a++)t[o].push("grid-item")}var i=[{x:1,y:1},{x:1,y:2},{x:1,y:3},{x:1,y:4}],l={0:1,1:5,2:10},c=d((0,r.useState)(t),2),u=c[0],s=c[1],f=d((0,r.useState)(i),2),m=f[0],g=f[1],h=d((0,r.useState)(Z),2),v=h[0],x=h[1],w=d((0,r.useState)("right"),2),E=w[0],S=w[1],O=d((0,r.useState)(600),2),j=O[0],k=O[1],A=d((0,r.useState)({totalPoints:0,fiftyPointsCount:0}),2),P=A[0],I=A[1],N=d((0,r.useState)(!1),2),T=N[0],C=N[1],_=(0,r.useRef)(U);_.current=U;var M=(0,r.useRef)();(0,r.useEffect)((function(){var e=function(e){return _.current(e)};return document.addEventListener("keydown",e),function(){return removeEventListener("keydown",e)}}),[]),(0,r.useEffect)((function(){var e,n;P.fiftyPointsCount>=50&&((e=j)<10?C(!0):k(e/2),I((function(e){return p(p({},e),{},{fiftyPointsCount:0})}))),M.current=E,(20===(n=m[m.length-1]).y||n.y<0||20===n.x||n.x<0)&&(C(!0),k(null))}));var z,D,L,R=M.current;function U(e){var n=e.keyCode,t=E;switch(n){case 37:S(t="right"===t?"right":"left");break;case 38:S(t="down"===t?"down":"up");break;case 39:S(t="left"===t?"left":"right");break;case 40:S(t="up"===t?"up":"down");break;case 32:S((function(e){return"stop"!==e?"stop":R}))}}function Z(){var e={x:Math.floor(20*Math.random()),y:Math.floor(20*Math.random())},n=l[Math.floor(3*Math.random())];return Object.assign({},e,{foodType:n})}(0,r.useEffect)((function(){T&&null!=P&&P.totalPoints&&n(P.totalPoints)}),[T]),z=function(){var e,n=function(e){if(Array.isArray(e))return b(e)}(e=m)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=p({},n[m.length-1]);switch(E){case"left":r.y+=-1;break;case"up":r.x+=-1;break;case"right":r.y+=1;break;case"down":r.x+=1;break;default:return}var o,a,i=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=y(e))){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw a}}}}(n);try{for(i.s();!(o=i.n()).done;){var l=o.value;l.y===r.y&&l.x===r.x&&(k(null),C(!0))}}catch(e){i.e(e)}finally{i.f()}n.push(r),r.x===v.x&&r.y===v.y?(I((function(e){return{totalPoints:e.totalPoints+v.foodType,fiftyPointsCount:e.fiftyPointsCount+v.foodType}})),x(Z())):n.shift(),g(n),a=t,m.forEach((function(e){a[e.x][e.y]="snake"})),a[v.x][v.y]="food".concat(String(v.foodType)),s(a)},D=j,L=(0,r.useRef)(),(0,r.useEffect)((function(){L.current=z}),[z]),(0,r.useEffect)((function(){if(null!==D){var e=setInterval((function(){L.current()}),D);return function(){return clearInterval(e)}}}),[D]);var $=u.map((function(e){return e.map((function(e){return r.createElement("div",{className:e})}))}));return r.createElement("div",{className:"grid-container"},T&&r.createElement("div",{className:"game-over"},r.createElement("h4",null,"game over"),r.createElement("button",{className:"bt",onClick:function(){k(500),S("right"),C(!1),s(t),g(i),x(Z()),I({totalPoints:0,fiftyPointsCount:0})}},"restart the game")),"stop"===E&&!T&&r.createElement("div",{className:"game-over"},r.createElement("h4",null,"Pause. Press space to resume")),r.createElement("div",{className:"score"},"Your Score: ",P.totalPoints),r.createElement("div",{className:"grid"},$))}function h(e){var n=e.errorMessage;return console.log(n),r.createElement("div",{className:"error"},n)}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function x(e){var n,t,o=e.isLoggedIn,i=e.player_name,l=e.handleSubmit,u=e.errorMessage,s=e.handleLogout,f=(n=(0,r.useState)(""),t=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(n,t)||function(e,n){if(e){if("string"==typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,n):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],m=f[1],d=((0,c.TH)().pathname,{player_name:p});function y(e){m(e.target.value.trim())}return o?r.createElement("div",{style:{textAlign:"center"}},r.createElement("h2",{className:"player-name"},i),r.createElement("button",{className:"logout-button",onClick:s},"Logout")):r.createElement("div",null,r.createElement("nav",{className:"navigation"},r.createElement(a.rU,{to:"/register"},"Register"),r.createElement(a.rU,{to:"/login"},"Log in")),u&&r.createElement(h,{errorMessage:u}),r.createElement(c.Z5,null,r.createElement(c.AW,{path:"/register",element:r.createElement("form",{onSubmit:function(e){return l(e,d)},className:"login-form"},r.createElement("label",{htmlFor:"register"},"Register"),r.createElement("input",{placeholder:"type your name 5 symbols",name:"register",type:"text",value:p,onChange:y}),r.createElement("button",{type:"submit"},"Send"))}),r.createElement(c.AW,{path:"/login",element:r.createElement("form",{onSubmit:function(e){return l(e,d)},className:"login-form"},r.createElement("label",{htmlFor:"login"},"Login"),r.createElement("input",{placeholder:"type your name",value:p,name:"login",type:"text",onChange:y}),r.createElement("button",{type:"submit"},"Send"))})))}function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){S(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e,n){if(e){if("string"==typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j(e,n):void 0}}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function k(e){var n,t,o=e.updatedScore,a=e.player_name,i=(n=(0,r.useState)([]),t=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(n,t)||O(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],u=i[1];return(0,r.useEffect)((function(){l().get("/api/gettopscores").then((function(e){return u(e.data.topScores.filter((function(e){return e.score>0})))}))}),[]),(0,r.useEffect)((function(){if(o){var e=c.some((function(e){return e.score<o}));e&&u((n=o,t=a,r=5===c.length?5:c.length+1,i=c.find((function(e){return e.player_name===t})),i?c.map((function(e){return e.player_name===t?E(E({},e),{},{score:n}):e})).sort((function(e,n){return n.score-e.score})):[].concat(function(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(c),[{player_name:t,score:n}]).sort((function(e,n){return n.score-e.score})).slice(0,r)))}var n,t,r,i}),[o]),r.createElement("div",{className:"topscores"},r.createElement("h3",null,"Top scores"),(null==c?void 0:c.length)>0&&r.createElement("ul",null,c.map((function(e){return r.createElement("li",{key:e.name},r.createElement("span",{className:"topscorer-name"},e.player_name),r.createElement("span",{className:"topscorer-score"},null===e.score?0:e.score))}))))}function A(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,n)||function(e,n){if(e){if("string"==typeof e)return P(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function I(){var e=A((0,r.useState)(!1),2),n=e[0],t=e[1],o=A((0,r.useState)(localStorage.getItem("token")),2),a=o[0],i=(o[1],A((0,r.useState)(""),2)),u=i[0],f=i[1],p=A((0,r.useState)(null),2),m=p[0],d=p[1],y=A((0,r.useState)(null),2),b=y[0],h=y[1],v="/register"===(0,c.TH)().pathname?"/api/register":"/api/login";return(0,r.useEffect)((function(){a&&l().get("/api/verifyplayer",{headers:{token:a}}).then((function(e){t(!0),f(e.data.player_name)})).catch((function(e){return h(e.response.data)}))}),[]),r.createElement("div",{className:"app"},r.createElement("div",{className:"dashboard"},r.createElement(x,{isLoggedIn:n,player_name:u,handleSubmit:function(e,n){e.preventDefault(),l().post(v,n).then((function(e){t(!0),f(e.data.player_name),localStorage.setItem("token",e.data.token)})).catch((function(e){return h(e.response.data)}))},handleLogout:function(){localStorage.removeItem("token"),t(!1)},errorMessage:b}),r.createElement(k,{updatedScore:m,player_name:u})),r.createElement(g,{updateScore:function(e){l().put("/api/updatescore",{player_name:u,score:e}).then((function(e){e.data&&(d(e.data.rows[0].score),f(e.data.rows[0].player_name))})).catch((function(e){return h(e.response.data)}))},player_name:u}),r.createElement(s,null))}var N=t(379),T=t.n(N),C=t(795),_=t.n(C),M=t(569),z=t.n(M),D=t(565),L=t.n(D),R=t(216),U=t.n(R),Z=t(589),$=t.n(Z),V=t(424),F={};F.styleTagTransform=$(),F.setAttributes=L(),F.insert=z().bind(null,"head"),F.domAPI=_(),F.insertStyleElement=U(),T()(V.Z,F),V.Z&&V.Z.locals&&V.Z.locals,o.render(r.createElement(a.VK,null,r.createElement(I,null)),document.getElementById("root"))},424:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(81),o=t.n(r),a=t(645),i=t.n(a)()(o());i.push([e.id,"* {\n    margin: 0;\n    padding: 0;\n    box-sizing: 'border-box';\n}\n\nul {\n    list-style: none;\n}\n\n\n\n.app {\n    position: relative;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n}\n\n\n\n\n.grid {\n    display: flex;\n    width: 500px;\n    height: 500px;\n    flex-direction: row;\n    flex-wrap: wrap;\n    border: 1px solid black;\n    \n}\n\n.grid-item { \n  width: 25px;\n  height: 25px;\n}\n\n.snake {\n    background-color: green;\n    width: 25px;\n    height: 25px;\n\n}\n\n.food1 {\n    background-color: red;\n    width: 25px;\n    height: 25px;\n}\n\n.food5 {\n    background-color: blue;\n    width: 25px;\n    height: 25px; \n}\n\n.food10 {\n    background-color: black;\n    width: 25px;\n    height: 25px;\n}\n\n.foodtypes {\n    width: 150px;\n    \n}\n\n.foodtype {\n    display: flex;\n    \n    align-items: center;\n    margin-bottom: 10px;\n}\n\n.score {\n    font-size: 30px;\n    width: 100%;\n    margin-bottom: 10px;\n    text-align: center;\n    color: blueviolet;\n    font-weight: 800;\n}\n\n.game-over {\n    position: absolute;\n    width: 500px;\n    background-color: brown;\n    color: white;\n    padding: 30px 0;\n    font-size: 30px;\n    text-align: center;\n    top: 250px;\n    \n}\n\n.dashboard{\n    width: 15%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 100%;\n    \n    \n    \n}\n\n.topscores {\n    width: 100%;\n    height: 60%;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.topscores h3 {\n    font-size: 25px;\n    margin-bottom: 15px;\n    color:crimson\n}\n\n.topscores li {\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    padding: 0 10px;\n}\n\n.topscorer-name {\n    font-size: 20px;\n    color: indigo;\n}\n\n.topscorer-score {\n    color: maroon;\n}\n\n\n.login-form {\n   \n    width: 100%;\n    margin-top: 1.5rem;\n}\n\n.login-form input, .login-form button  {\n    display: block;\n    margin-bottom: 10px;\n    width: 100%;\n    padding: 10px;\n    box-sizing: border-box\n}\n\n.login-form label {\n    display: block;\n    text-align-last: center;\n    font-size: 20px;\n    color: grey;\n    font-weight: 900;\n    width: 100%;\n    margin-bottom: 10px;\n    \n}\n\n.login-form button:hover {\n    cursor: pointer;\n}\n\n.player-name {\n    font-size: 25px;\n    margin-bottom: 15px;\n    color:rgb(50, 133, 122);\n    margin-top: 45px;\n    width: 100%;\n    text-align: center;\n    \n}\n\n.navigation {\n    margin-top: 50px;\n    display: flex;\n    width: 100%;\n    justify-content: space-evenly;\n    \n}\n\n.error {\n    color: red;\n    font-size: 12px;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n    margin-top: 20px;\n}\n\n.logout-button {\n    display:inline-block;\n    border: none;\n    outline:none;\n    background: none;\n    padding-bottom: 5px;\n    border-bottom: 1px solid black;\n   \n}\n\n.logout-button:hover {\n    cursor: pointer;\n}\n\n.bt {\n    cursor: pointer;\n    border: none;\n    outline: none;\n    background-color: white;\n    border-radius: 3px;\n    display: inline-block;\n    padding: 5px;\n    \n\n}\n\n",""]);const l=i}},t={};function r(e){var o=t[e];if(void 0!==o)return o.exports;var a=t[e]={id:e,exports:{}};return n[e](a,a.exports,r),a.exports}r.m=n,e=[],r.O=(n,t,o,a)=>{if(!t){var i=1/0;for(s=0;s<e.length;s++){for(var[t,o,a]=e[s],l=!0,c=0;c<t.length;c++)(!1&a||i>=a)&&Object.keys(r.O).every((e=>r.O[e](t[c])))?t.splice(c--,1):(l=!1,a<i&&(i=a));if(l){e.splice(s--,1);var u=o();void 0!==u&&(n=u)}}return n}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[t,o,a]},r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={179:0};r.O.j=n=>0===e[n];var n=(n,t)=>{var o,a,[i,l,c]=t,u=0;if(i.some((n=>0!==e[n]))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(c)var s=c(r)}for(n&&n(t);u<i.length;u++)a=i[u],r.o(e,a)&&e[a]&&e[a][0](),e[i[u]]=0;return r.O(s)},t=self.webpackChunkui=self.webpackChunkui||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var o=r.O(void 0,[736],(()=>r(663)));o=r.O(o)})();